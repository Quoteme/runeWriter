<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rune Writer</title>
        <style media="screen">
            *{
                font-size: 23px;
            }
            body{
                margin: 0px;
				/*overflow: hidden;*/
            }
            textarea{
                /*box-shadow: 10px 5px 5px #dddddd;*/
                width:100%;
                height:100vh;
                box-sizing: bolder-box;         /* For IE and modern versions of Chrome */
                -moz-box-sizing: bolder-box;    /* For Firefox                          */
                -webkit-box-sizing: bolder-box; /* For Safari                           */
            }
            .settings{
                position: fixed;
                bottom: 0;
                right: 0;
                border: 3px solid black;
            }
        </style>
    </head>
    <body>
        <textarea name="name" rows="16" cols="80" id="output" placeholder="enter some text here..."></textarea>

        <div class="settings">
            <select id="alphabetSelect" onchange="console.log(selectedAplhabet = this.value)">
            </select>
            <button type="button" onclick="document.getElementById('output').value = text2runes(document.getElementById('output').value)">Text to Runes</button>
            <!-- <button type="button" onclick="document.getElementById('output').value = runes2text(document.getElementById('output').value)">Runes to Text</button> -->
        </div>
        <script type="text/javascript">
        function text2runes(str) {
            var output = "";
            for (var i = 0; i < str.length; i++) {
                var translation = dictionary[selectedAplhabet][str.charAt(i)];
                if (typeof translation != "undefined") {
                    output += translation;
                }else {
                    output += str.charAt(i);
                }
            }
            return output
        }
        function runes2text(str) {
            var output = "";
            var letters = str.split('');
            // console.log(letters);
            // for (var i = 0; i < str.length; i++) {
            //     // var result = dictionary.filter(function( obj ) { return obj == str.charAt(i) });
            //     // output += result[0];
            //     output += findByValue(dictionary[selectedAplhabet], str.charAt(i));
            //     console.log(str.charAt(i));
            // }
            function findByValue(obj, val) {
                var output;
                for (var v in obj) {
                    if (obj.hasOwnProperty(v)) {
                        if (obj[v] == val) {
                            output = v;
                        }
                        // console.log(obj[v]);
                    }
                }
                return output;
            }
            return output
        }
        document.oninput = function(evt) {
            evt = evt || window.event;
            var translation = dictionary[selectedAplhabet][evt.data];
            if (typeof translation != "undefined") {
                document.activeElement.value = document.activeElement.value.slice(0, -1);
                document.activeElement.value = document.activeElement.value + translation;
            }
        };
        var dictionary = {
            "old turkish runes": {
                "A" : "ð°€â€¬",
                "a" : "ð°€â€¬",
                "B" : "ð°‹â€¬",
                "b" : "ð°‹â€¬",
                "C" : "ð°±",
                "c" : "ð°±",
                "Ã‡" : "ð°²â€¬",
                "Ã§" : "ð°²â€¬",
                "D" : "ð°¨",
                "d" : "ð°¨",
                "E" : "ð°",
                "e" : "ð°",
                "F" : "ð°“â€¬",
                "f" : "ð°“â€¬",
                "G" : "ð°â€¬",
                "g" : "ð°â€¬",
                "Äž" : "ð°â€¬",
                "ÄŸ" : "ð°â€¬",
                "H" : "ð°¶â€¬",
                "h" : "ð°¶â€¬",
                "Ä°" : "ð°ƒâ€¬",
                "i" : "ð°ƒâ€¬",
                "I" : "ð°¹â€¬",
                "Ä±" : "ð°¹â€¬",
                "J" : "ð°§",
                "j" : "ð°§",
                "K" : "ð°šâ€¬",
                "k" : "ð°šâ€¬",
                "L" : "ð°žâ€¬",
                "l" : "ð°žâ€¬",
                "M" : "ð°¢â€¬",
                "m" : "ð°¢â€¬",
                "N" : "ð°­â€¬",
                "n" : "ð°­â€¬",
                "O" : "ð°†â€¬",
                "o" : "ð°†â€¬",
                "Ã–" : "ð°‡â€¬â€¬",
                "Ã¶" : "ð°‡â€¬",
                "P" : "ð°¯â€¬",
                "p" : "ð°¯â€¬",
                "R" : "ð°¼â€¬",
                "r" : "ð°¼â€¬",
                "S" : "ð°¾â€¬",
                "s" : "ð°¾â€¬",
                "Åž" : "ð±",
                "Åž" : "ð±",
                "T" : "ð±ƒ",
                "t" : "ð±ƒ",
                "U" : "ð°†",
                "u" : "ð°†",
                "Ãœ" : "ð°»",
                "Ã¼" : "ð°»",
                "V" : "ð°¡",
                "v" : "ð°¡",
                "Y" : "ð°–â€¬",
                "y" : "ð°–â€¬",
                "Z" : "ð°¤â€¬",
                "z" : "ð°¤â€¬"

            },
            "futhark": {},
            "standart": {
                /*
                "A" : "",
                "a" : "",
                "B" : "",
                "b" : "",
                "C" : "",
                "c" : "",
                "D" : "",
                "d" : "",
                "E" : "",
                "e" : "",
                "F" : "",
                "f" : "",
                "G" : "",
                "g" : "",
                "H" : "",
                "h" : "",
                "I" : "",
                "i" : "",
                "J" : "",
                "j" : "",
                "K" : "",
                "k" : "",
                "L" : "",
                "l" : "",
                "M" : "",
                "m" : "",
                "N" : "",
                "n" : "",
                "O" : "",
                "o" : "",
                "P" : "",
                "p" : "",
                "Q" : "",
                "q" : "",
                "R" : "",
                "r" : "",
                "S" : "",
                "s" : "",
                "T" : "",
                "t" : "",
                "U" : "",
                "u" : "",
                "V" : "",
                "v" : "",
                "W" : "",
                "w" : "",
                "X" : "",
                "x" : "",
                "Y" : "",
                "y" : "",
                "Z" : "",
                "z" : ""
                */
            }
        }
        var selectedAplhabet = Object.keys(dictionary)[0];
        function initSettings() {
            for (var v in dictionary) {
                if (dictionary.hasOwnProperty(v)) {
                    document.getElementById("alphabetSelect").innerHTML += "<option value='"+v+"'>"+v+"</option>";
                }
            }
        }
        initSettings();
        </script>

    </body>
</html>
